<div class="panel panel-default" ng-controller="xuathangController">
    <div class="panel-heading">
        <h3 class="panel-title">Xuất hàng</h3>
    </div>
    <div class="panel-body">
        <span us-spinner="{radius:15, width:4, length: 8}"></span>
        <!--Mặt hàng-->
        <div class="col-md-12 col-sm-12 col-xs-12" id="xuathang">
            <div id="gridContainer" dx-data-grid="gridXuatHangs"></div>
            <div dx-context-menu="contextMenuXuatHang"></div>
        </div>

        <!--LÝ DO XUẤT-->
        <!--Popup Modify-->
        <div class="popup" dx-popup="popupModifyLyDoXuat">
            <div data-options="dxTemplate: { name:'templateModifyLyDoXuat' }">
                <form ng-submit="SaveLyDoXuat($event)" dx-validation-group="{lydoXuat}">
                    <div class="row">
                        <div class="form-group col-md-12 col-sm-12 col-xs-12">
                            <div class="dx-field">
                                <label>Tên <span class="text-danger" title="Vui lòng nhập trường này" data-toggle="tooltip">(*)</span></label>
                                <div dx-text-box="controlLyDoXuat.ten"
                                     dx-validator="{validationRules:[{type: 'required', message: 'Nhập tên Lý do xuất'}]}"></div>
                            </div>
                        </div>

                        <div dx-validation-summary="{lydoXuat}"></div>
                    </div>
                    <hr />
                    <div class="row">
                        <div class="pull-left" dx-button="{ text: 'Lưu', icon: 'floppy', type: 'success', useSubmitBehavior: true }"></div>
                        <div class="pull-left dx-button dx-widget dx-button-default dx-button-has-icon dx-button-has-text" ng-print print-element-id="inPhieuXuat"><div class="dx-button-content dx-button-text"><i class="fa fa-print"></i> In phiếu nhập</div></div>
                        <div class="pull-right" dx-button="{ text: 'Hủy bỏ', icon: 'clear', onClick: CancelSaveLyDoXuat, type: 'danger' }"></div>
                    </div>
                </form>
            </div>
        </div>


        <!--XUẤT HÀNG-->
        <!--Popup Modify-->
        <div class="popup" dx-popup="popupModifyXuatHang">
            <div data-options="dxTemplate: { name:'templateModifyXuatHang' }">
                <form ng-submit="SaveXuatHang($event)" dx-validation-group="{xuathang}">
                    <!--Thông tin phiếu xuất hàng-->
                    <div class="form-group col-md-2 col-sm-2 col-xs-12">
                        <div class="dx-field">
                            <label>Thời gian</label>
                            <div dx-date-box="controlXuatHang.thoigian"></div>
                        </div>
                    </div>
                    <div class="form-group col-md-4 col-sm-4 col-xs-12">
                        <div class="dx-field">
                            <label>Lý do xuất</label>
                            <div>
                                <div class="col-md-11" style="margin: 0px; padding: 0px;">
                                    <div dx-select-box="controlXuatHang.lydoXuat"
                                         dx-validator="{validationRules:[{type: 'required', message: 'Chọn lý do nhập'}]}"></div>
                                </div>
                                <div class="col-md-1" style="margin: 0px; padding: 0px;">
                                    <div dx-button="controlXuatHang.addLyDoXuat" style="margin: 0px"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-md-4 col-sm-4 col-xs-12">
                        <div class="dx-field">
                            <label>Người xuất </label>
                            <div dx-text-box="controlXuatHang.nguoiXuat"></div>
                        </div>
                    </div>
                    <div class="form-group col-md-2 col-sm-2 col-xs-12">
                        <div class="dx-field">
                            <label>Tổng tiền</label>
                            <div class="dx-texteditor">
                                <div class="dx-texteditor-container">
                                    <input type="text" class="dx-texteditor-input" style="text-align: right; font-weight: bold" fcsa-number ng-model="xuathang.tongTien" />
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-md-12 col-sm-12 col-xs-12">
                        <div class="dx-field">
                            <label>Ghi chú</label>
                            <div dx-text-area="controlXuatHang.ghichu"></div>
                        </div>
                    </div>
                    <!--Chi tiết xuất hàng-->
                    <div class="row">
                        <div class="col-md-6 col-sm-6 col-xs-12">
                            <div class="dx-field">
                                <div class="field-customization" dx-lookup="lookupMatHangs" id="lookupMatHangs"></div>
                            </div>
                        </div>
                    </div>
                    <br />
                    <div class="col-md-12 col-sm-12 col-xs-12" id="chitietXuatHang">
                        <div style="height: 50vh" dx-data-grid="gridChiTietXuatHangs"></div>
                    </div>
                    <div dx-validation-summary="{xuathang}"></div>
                    <hr />
                    <div class="row">
                        <div class="pull-left" dx-button="{ text: 'Lưu', icon: 'floppy', type: 'success', useSubmitBehavior: true }"></div>
                        <div class="pull-left dx-button dx-widget dx-button-default dx-button-has-icon dx-button-has-text" ng-print print-element-id="inPhieuXuat"><div class="dx-button-content dx-button-text"><i class="fa fa-print"></i> In phiếu xuất</div></div>
                        <div class="pull-right" dx-button="{ text: 'Hủy bỏ', icon: 'clear', onClick: CancelSaveXuatHang, type: 'danger' }"></div>
                    </div>
                </form>
            </div>
        </div>
        <!--Popup Delete-->
        <div class="popup" dx-popup="popupDeleteXuatHang">
            <div data-options="dxTemplate: { name:'templateDeleteXuatHang' }">
                <div style="text-align: center">Bạn có chắc chắn muốn xóa?</div>
                <br />
                <div dx-button="{ text: 'Có', icon: 'floppy', onClick: ConfirmDeleteXuatHang, type: 'success' }"></div>
                <div dx-button="{ text: 'Không', icon: 'clear', onClick: CancelDeleteXuatHang, type: 'danger' }"></div>
            </div>
        </div>
        <!--Popup Review-->
        <div class="popup" dx-popup="popupReviewXuatHang">
            <div data-options="dxTemplate: { name:'templateReviewXuatHang' }">
                <div class="form-group col-md-2 col-sm-2 col-xs-12">
                    <div class="dx-field">
                        <label>Thời gian</label>
                        <div dx-date-box="controlXuatHangReview.thoigian"></div>
                    </div>
                </div>
                <div class="form-group col-md-4 col-sm-4 col-xs-12">
                    <div class="dx-field">
                        <label>Lý do xuất</label>
                        <div>
                            <div class="col-md-12" style="margin: 0px; padding: 0px;">
                                <div dx-select-box="controlXuatHangReview.lydoXuat"
                                     dx-validator="{validationRules:[{type: 'required', message: 'Chọn lý do nhập'}]}"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-group col-md-4 col-sm-4 col-xs-12">
                    <div class="dx-field">
                        <label>Người xuất </label>
                        <div dx-text-box="controlXuatHangReview.nguoiXuat"></div>
                    </div>
                </div>
                <div class="form-group col-md-2 col-sm-2 col-xs-12">
                    <div class="dx-field">
                        <label>Tổng tiền</label>
                        <div class="dx-texteditor">
                            <div class="dx-texteditor-container">
                                <input type="text" class="dx-texteditor-input" style="text-align: right; font-weight: bold" fcsa-number ng-model="xuathangReview.tongTien" readonly />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-group col-md-12 col-sm-12 col-xs-12">
                    <div class="dx-field">
                        <label>Ghi chú</label>
                        <div dx-text-area="controlXuatHangReview.ghichu"></div>
                    </div>
                </div>
                <!--Chi tiết xuất hàng-->
                <div class="col-md-12 col-sm-12 col-xs-12" id="chitietReviewXuatHang">
                    <div style="height: 50vh" dx-data-grid="gridChiTietXuatHangReviews"></div>
                </div>
                <div class="pull-left dx-button dx-widget dx-button-default dx-button-has-icon dx-button-has-text" ng-print print-element-id="inPhieuXuat"><div class="dx-button-content dx-button-text"><i class="fa fa-print"></i> In phiếu xuất</div></div>
            </div>
        </div>

        <!--In phiếu nhập-->
        <div id="inPhieuXuat" style="margin: 0px; padding: 0px; font-size: 13px;font-family:'Times New Roman', Times, serif;">
            <div class="visible-print-block" style="margin: 0px; padding: 0px;">
                <div class="col-xs-4 text-center">
                    <p style="font-size:1.1em;">TRƯỜNG ĐẠI HỌC HẢI PHÒNG</p><br />
                    <p style="border-bottom:solid 1px; font-weight:900;font-size:1.1em;">TRUNG TÂM PHỤC VỤ</p>
                </div>
                <div class="col-xs-5 text-center">
                    <div class="col-xs-10 text-center">
                        <p style="font-size:1.75em;font-weight:900;">PHIẾU XUẤT KHO</p><br />
                        <p>Ngày ........ tháng ....... năm ........</p>
                    </div>
                    <div class="col-xs-2 text-left">
                        <p>Số...........</p><br />
                        <p>Nợ...........</p><br />
                        <p>Có...........</p>
                    </div>
                </div>
                <div class="col-xs-3 text-center">
                    <p><strong>mẫu số: 02-VT</strong></p><br />
                    <p>(Ban hành theo thông tư số 200/2014/TT/BTC ngày 22/12/2014 của BTC)</p>
                </div>
                <!--<div class="col-xs-6">Email: abcxyz@gmail.com</div>-->
                <!--<div class="col-xs-12 text-center">FB: facebook.com/Restaurant</div><br />-->
                <div class="row">
                    <div class="col-xs-12">Họ tên người giao hàng:{{hoadonBanHang.nhanvien}}....................................................Địa chỉ(Bộ phận)........................................................</div>
                    <div class="col-xs-12">Lý do xuất:....................................số.....................................................................................................................................</div>
                    <div class="col-xs-12">Nhập tại kho:...........................................................................................Địa điểm:....................................................................</div>
                    <!--<div class="col-xs-3">No: {{hoadonBanHang.id}}</div>-->

                </div>
                <br />
                <div class="col-xs-12">Nhân viên: {{hoadonBanHang.tenNhanVien}}</div>
                <!--<div class="col-xs-6">{{hoadonBanHang.KhachHang.ten}}</div><br />
                <div class="col-xs-6">{{hoadonBanHang.LoaiHoaDonBanHang.ten}}</div>-->

                <div class="row">
                    <div class="col-xs-12 text-center" style="border: 0.1px solid #808080">
                        <div class="row">
                            <div class="col-xs-3" style="border-right: 0.1px solid #808080"><b>Mặt hàng</b></div>
                            <div class="col-xs-3" style="border-right: 0.1px solid #808080"><b>Mã hàng</b></div>
                            <div class="col-xs-2" style="border-right: 0.1px solid #808080"><b>Đơn giá</b></div>
                            <div class="col-xs-2" style="border-right: 0.1px solid #808080"><b>Số lượng</b></div>
                            <div class="col-xs-2"><b>Thành tiền</b></div>
                        </div>
                    </div>
                    <div class="col-xs-12" style="border: 0.1px solid #808080; border-top: none; font-size: 9.5px;" ng-repeat="(index, value) in print.chitietNhapHangs">
                        <div class="row">
                            <div class="col-xs-3" style="border-right: 0.1px solid #808080">{{value.tenMatHang}}</div>
                            <div class="col-xs-3 text-right" style="border-right: 0.1px solid #808080; height: 100%;">{{value.idMatHang}}</div>
                            <div class="col-xs-2 text-center text-right" style="border-right: 0.1px solid #808080; height: 100%;">{{value.dongia | number:0}}</div>
                            <div class="col-xs-2 text-right" style="border-right: 0.1px solid #808080; height: 100%;">{{value.soluong | number:0}}</div>
                            <div class="col-xs-2 text-right" style="height: 100%;">{{value.thanhtien}}</div>
                        </div>
                    </div>
                </div>
                <br />
                <div class="row">
                    <div class="col-xs-12">
                        <p>Bằng chữ:............................................................................................................................................................................................</p>
                    </div>
                    <br />
                    <div class="col-xs-12 text-right">
                        <p class="text-right">Hải phòng, ngày...........tháng..........năm 2017</p>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-3 text-center">
                        <p style="font-weight:900;">Phòng KH-TC</p>
                        <br /><br /><br /><br /><br /><br />
                        <p style="font-weight:900">Nguyễn Phương Thanh</p>
                    </div>
                    <div class="col-xs-3 text-center">
                        <p style="font-weight:900;">TT Phục vụ</p>
                        <br /><br /><br /><br /><br /><br />
                        <!--<p style="font-weight:900">Nguyễn Phương Thanh</p>-->
                    </div>
                    <div class="col-xs-3 text-center">
                        <p style="font-weight:900;">Người giao</p>
                        <br /><br /><br /><br /><br /><br />
                        <!--<p style="font-weight:900">Nguyễn Phương Thanh</p>-->
                    </div>
                    <div class="col-xs-3 text-center">
                        <p style="font-weight:900;">Thủ kho</p>
                        <br /><br /><br /><br /><br /><br />
                        <p style="font-weight:900">Trịnh Thị Trang</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>